---

---

<button id="themeToggle" aria-label={`Theme Switcher`} class="rounded-full hover:cursor-pointer">
  <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
  </svg>
  <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <circle cx="12" cy="12" r="5"></circle>
    <path
      d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"
    ></path>
  </svg>
</button>

<style>
  #themeToggle {
    border: 1px solid var(--border);
    border-radius: 50%;
    padding: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    color: var(--text);

    svg {
      width: 20px;
      height: 20px;
    }
  }
  html {
    &.dark {
      #themeToggle .sun-icon {
        display: block;
      }
      #themeToggle .moon-icon {
        display: none;
      }
    }
    &.light {
      #themeToggle .sun-icon {
        display: none;
      }
      #themeToggle .moon-icon {
        display: block;
      }
    }
  }
</style>

<script is:inline>
  // Theme toggle functionality
  const themeToggle = document.querySelector("#themeToggle");
  const html = document.documentElement;

  // Check for saved theme or system preference
  function getPreferredTheme() {
    const saved = localStorage.getItem("theme");
    if (saved) return saved;
    return window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
  }

  function setTheme(theme) {
    html.removeAttribute("class");
    html.classList.add(theme);
    localStorage.setItem("theme", theme);
  }

  // Initialize theme
  setTheme(getPreferredTheme());

  // Toggle theme on button click
  themeToggle.addEventListener("click", () => {
    const isDark = html.classList.contains("dark");
    setTheme(isDark ? "light" : "dark");
  });

  // Listen for system theme changes
  window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", (e) => {
    if (!localStorage.getItem("theme")) {
      setTheme(e.matches ? "dark" : "light");
    }
  });
</script>
